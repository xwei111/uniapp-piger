(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/workerFirst/index"],{1934:function(e,t,n){"use strict";n.r(t);var o=n("76b4"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=s.a},"20e7":function(e,t,n){"use strict";(function(e){n("d48c");o(n("66fd"));var t=o(n("a530"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"21b9":function(e,t,n){"use strict";var o,s=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}))},"76b4":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("fe00"),s=function(){n.e("components/self-bg").then(function(){return resolve(n("d3d9"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("components/self-content").then(function(){return resolve(n("6a0b"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/self-steps").then(function(){return resolve(n("1052"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/self-button").then(function(){return resolve(n("a566"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/self-input").then(function(){return resolve(n("051f"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("components/self-checkbox").then(function(){return resolve(n("384d"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/self-agree").then(function(){return resolve(n("f519"))}.bind(null,n)).catch(n.oe)},d={data:function(){return{lists:[{id:1,text:"验证手机号"},{id:2,text:"验证员工号"},{id:3,text:"设置密码"}],active:1,chekck:!0,isShow:!1,phone:"",smsCode:"",verifyStaffCode:"",password:"",newPassword:"",confirmNewPassword:"",number:60,isBegin:1,staffCode:""}},components:{selfBg:s,selfContent:i,selfSteps:c,selfButton:f,selfInput:r,selfCheckbox:a,selfAgree:u},onLoad:function(e){var t=e.staffCode;this.staffCode=t},methods:{nextClick:function(){var t=this;if(1==this.active){if(!this.phone)return void e.showToast({title:"请输入手机号",icon:"none"});if(!/^\d{11}$/.test(this.phone))return void e.showToast({title:"手机格式错误",icon:"none"});if(!this.smsCode)return void e.showToast({title:"请输入验证码",icon:"none"});(0,o.workFirst)({phone:this.phone,smsCode:this.smsCode,staffCode:this.staffCode}).then((function(e){e.success&&(t.active=++t.active)}))}if(2==this.active){if(!this.verifyStaffCode)return void e.showToast({title:"请输入员工号",icon:"none"});if(!this.password)return void e.showToast({title:"请输入初始密码",icon:"none"});(0,o.workSecond)({staffCode:this.staffCode,verifyStaffCode:this.verifyStaffCode,password:this.password}).then((function(e){e.success&&(t.active=++t.active)}))}if(3==this.active)return this.newPassword?this.confirmNewPassword?this.newPassword!==this.confirmNewPassword?void e.showToast({title:"两次输入密码不一致",icon:"none"}):this.chekck?void(0,o.workThree)({staffCode:this.staffCode,newPassword:this.newPassword,confirmNewPassword:this.confirmNewPassword}).then((function(t){e.switchTab({url:"/pages/mineTask/index"})})):void e.showToast({title:"请阅读用户协议",icon:"none"}):void e.showToast({title:"请再次输入密码",icon:"none"}):void e.showToast({title:"请输入新密码",icon:"none"})},selectHandle:function(){this.chekck=!this.chekck},agreeHandle:function(){this.isShow=!0},closeHandle:function(){this.isShow=!1},getCodeHandle:function(){var e=this;1==this.isBegin&&(this.isBegin=2,(0,o.getTellCode)({phone:this.phone,staffCode:this.staffCode}).then((function(t){if(t&&1e4===t.code){e.isBegin=3;var n=setInterval((function(){e.number=--e.number,e.number<0&&(e.number=60,e.isBegin=1,clearInterval(n),n=null)}),1e3)}else e.isBegin=1})))},toGuestHandle:function(){e.navigateTo({url:"/pages/guestFirst/index"})}}};t.default=d}).call(this,n("543d")["default"])},a530:function(e,t,n){"use strict";n.r(t);var o=n("21b9"),s=n("1934");for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);n("caf9");var c,f=n("f0c5"),r=Object(f["a"])(s["default"],o["b"],o["c"],!1,null,"4e58cd6a",null,!1,o["a"],c);t["default"]=r.exports},a56f:function(e,t,n){},caf9:function(e,t,n){"use strict";var o=n("a56f"),s=n.n(o);s.a}},[["20e7","common/runtime","common/vendor"]]]);