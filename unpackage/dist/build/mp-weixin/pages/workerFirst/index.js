(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/workerFirst/index"],{1934:function(e,n,t){"use strict";t.r(n);var o=t("76b4"),s=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=s.a},"20e7":function(e,n,t){"use strict";(function(e){t("d48c");o(t("66fd"));var n=o(t("a530"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"641e":function(e,n,t){},7428:function(e,n,t){"use strict";var o=t("641e"),s=t.n(o);s.a},"76b4":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("fe00"),s=t("4eea"),i=function(){t.e("components/self-bg").then(function(){return resolve(t("d3d9"))}.bind(null,t)).catch(t.oe)},f=function(){t.e("components/self-content").then(function(){return resolve(t("6a0b"))}.bind(null,t)).catch(t.oe)},r=function(){t.e("components/self-steps").then(function(){return resolve(t("1052"))}.bind(null,t)).catch(t.oe)},c=function(){t.e("components/self-button").then(function(){return resolve(t("a566"))}.bind(null,t)).catch(t.oe)},a=function(){t.e("components/self-input").then(function(){return resolve(t("051f"))}.bind(null,t)).catch(t.oe)},u=function(){t.e("components/self-checkbox").then(function(){return resolve(t("384d"))}.bind(null,t)).catch(t.oe)},d=function(){t.e("components/self-agree").then(function(){return resolve(t("f519"))}.bind(null,t)).catch(t.oe)},l={data:function(){return{lists:[{id:1,text:"验证手机号"},{id:2,text:"验证员工号"},{id:3,text:"设置密码"}],active:1,isShow:!1,phone:"",smsCode:"",verifyStaffCode:"",password:"",newPassword:"",confirmNewPassword:"",number:60,isBegin:1,staffCode:""}},components:{selfBg:i,selfContent:f,selfSteps:r,selfButton:c,selfInput:a,selfCheckbox:u,selfAgree:d},onLoad:function(e){var n=e.staffCode;this.staffCode=n},methods:{nextClick:function(){var n=this;if(1==this.active){if(!this.phone)return void e.showToast({title:"请输入手机号",icon:"none"});if(!(0,s.verTell)(this.phone))return void e.showToast({title:"手机格式错误",icon:"none"});if(!this.smsCode)return void e.showToast({title:"请输入验证码",icon:"none"});(0,o.workFirst)({phone:this.phone,smsCode:this.smsCode,staffCode:this.staffCode}).then((function(e){e.success&&(n.active=++n.active)}))}if(2==this.active){if(!this.verifyStaffCode)return void e.showToast({title:"请输入员工号",icon:"none"});if(!this.password)return void e.showToast({title:"请输入初始密码",icon:"none"});(0,o.workSecond)({staffCode:this.staffCode,verifyStaffCode:this.verifyStaffCode,password:this.password}).then((function(e){e.success&&(n.active=++n.active)}))}if(3==this.active)return this.newPassword?this.confirmNewPassword?this.newPassword!==this.confirmNewPassword?void e.showToast({title:"两次输入密码不一致",icon:"none"}):void(0,o.workThree)({staffCode:this.staffCode,newPassword:this.newPassword,confirmNewPassword:this.confirmNewPassword}).then((function(n){e.switchTab({url:"/pages/mineTask/index"})})):void e.showToast({title:"请再次输入密码",icon:"none"}):void e.showToast({title:"请输入新密码",icon:"none"})},agreeHandle:function(){this.isShow=!0},closeHandle:function(){this.isShow=!1},getCodeHandle:function(){var n=this;this.phone?(0,s.verTell)(this.phone)?1==this.isBegin&&(this.isBegin=2,(0,o.getTellCode)({phone:this.phone,staffCode:this.staffCode}).then((function(e){if(e&&1e4===e.code){n.isBegin=3;var t=setInterval((function(){n.number=--n.number,n.number<0&&(n.number=60,n.isBegin=1,clearInterval(t),t=null)}),1e3)}else n.isBegin=1}))):e.showToast({title:"手机格式错误",icon:"none"}):e.showToast({title:"请输入手机号",icon:"none"})},toGuestHandle:function(){e.navigateTo({url:"/pages/guestFirst/index"})}}};n.default=l}).call(this,t("543d")["default"])},"896b":function(e,n,t){"use strict";var o,s=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}))},a530:function(e,n,t){"use strict";t.r(n);var o=t("896b"),s=t("1934");for(var i in s)"default"!==i&&function(e){t.d(n,e,(function(){return s[e]}))}(i);t("7428");var f,r=t("f0c5"),c=Object(r["a"])(s["default"],o["b"],o["c"],!1,null,"137b04b9",null,!1,o["a"],f);n["default"]=c.exports}},[["20e7","common/runtime","common/vendor"]]]);